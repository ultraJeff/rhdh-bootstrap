kind: ConfigMap
apiVersion: v1
metadata:
  name: rhdh-dynamic-plugins
  namespace: rhdh
  annotations:
    argocd.argoproj.io/sync-wave: "2"
data:
  dynamic-plugins.yaml: |
    includes:
    - dynamic-plugins.default.yaml
    plugins:
      # Keycloak integration
      - package: ./dynamic-plugins/dist/backstage-community-plugin-catalog-backend-module-keycloak-dynamic
        disabled: false
      # GitHub integration
      - package: ./dynamic-plugins/dist/backstage-plugin-catalog-backend-module-github-dynamic
        disabled: false
      - package: ./dynamic-plugins/dist/backstage-plugin-catalog-backend-module-github-org-dynamic
        disabled: false
      # Kubernetes integration
      - package: ./dynamic-plugins/dist/backstage-plugin-kubernetes-backend-dynamic
        disabled: false
      - package: ./dynamic-plugins/dist/backstage-plugin-kubernetes
        disabled: false
      # ArgoCD integration
      - package: ./dynamic-plugins/dist/roadiehq-backstage-plugin-argo-cd-backend-dynamic
        disabled: false
      - package: ./dynamic-plugins/dist/backstage-community-plugin-redhat-argocd
        disabled: false
      # RBAC
      - package: ./dynamic-plugins/dist/backstage-community-plugin-rbac
        disabled: false
      # Azure DevOps integration
      # MS Graph plugin - disabled until Azure credentials are configured
      - package: ./dynamic-plugins/dist/backstage-plugin-catalog-backend-module-msgraph-dynamic
        disabled: true
      - package: ./dynamic-plugins/dist/backstage-plugin-scaffolder-backend-module-azure-dynamic
        disabled: false
      - package: ./dynamic-plugins/dist/backstage-community-plugin-azure-devops
        disabled: false
      - package: ./dynamic-plugins/dist/backstage-community-plugin-azure-devops-backend-dynamic
        disabled: false
      # Azure Pipelines scaffolder actions (azure:pipeline:create, azure:pipeline:run)
      - package: ./dynamic-plugins/dist/parfuemerie-douglas-scaffolder-backend-module-azure-repositories-dynamic
        disabled: false
      # HTTP request scaffolder action (http:backstage:request)
      - package: ./dynamic-plugins/dist/roadiehq-scaffolder-backend-module-http-request-dynamic
        disabled: false
